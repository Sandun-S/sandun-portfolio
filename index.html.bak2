<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandun Siwantha | Embedded Systems & IoT Consultant</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>

    <header id="main-header"></header>

    <main>
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <span class="hero-subtitle">SANDUN SIWANTHA</span>
                    <h1 class="hero-title">Embedded Systems Engineer & IoT Specialist</h1>
                    <p class="hero-description">
                        Building robust firmware and scalable IoT solutions that bridge the physical and digital worlds. Based in Sri Lanka, available for consulting worldwide.
                    </p>
                    <div class="hero-buttons">
                        <a href="portfolio.html" class="btn btn-primary">View My Work</a>
                        <a href="contact.html" class="btn btn-secondary">Get in Touch</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Me Snippet -->
        <section class="home-section fade-in">
            <div class="container text-center">
                <h2 class="section-title">Driven by Innovation and Precision Engineering</h2>
                <p class="section-subtitle">
                    I am an Embedded Systems Engineer with a passion for solving complex challenges, from low-level firmware to full-stack IoT applications. My experience at leading Sri Lankan tech firms has equipped me with the skills to deliver high-quality, reliable, and efficient solutions.
                </p>
                <a href="about.html" class="btn btn-primary-outline">More About Me</a>
            </div>
        </section>

        <!-- Featured Services -->
        <section class="home-section bg-light fade-in">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-title">Core Expertise</h2>
                    <p class="section-subtitle">Delivering end-to-end engineering services.</p>
                </div>
                <div class="services-grid-mini">
                    <div class="service-card-mini">
                        <h3>Firmware Development</h3>
                        <p>Robust C/C++ programming for microcontrollers like STM32, ESP32, and Nordic series.</p>
                    </div>
                    <div class="service-card-mini">
                        <h3>PCB Design</h3>
                        <p>Custom PCB schematic and layout design using KiCad for rapid and reliable prototyping.</p>
                    </div>
                    <div class="service-card-mini">
                        <h3>IoT & Cloud</h3>
                        <p>Connecting hardware to the cloud with platforms like Firebase and AWS IoT.</p>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 2rem;">
                     <a href="services.html" class="btn btn-primary">Explore All Services</a>
                </div>
            </div>
        </section>
        
        <!-- Featured Projects -->
        <section class="home-section fade-in">
             <div class="container">
                <div class="text-center">
                    <h2 class="section-title">Featured Projects</h2>
                    <p class="section-subtitle">A glimpse into my portfolio of work.</p>
                </div>
                <div id="featured-projects-grid" class="projects-grid">
                    <!-- Projects will be loaded here by JavaScript -->
                </div>
                 <div class="text-center" style="margin-top: 2rem;">
                     <a href="portfolio.html" class="btn btn-primary-outline">View All Projects</a>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="cta-section bg-dark fade-in">
            <div class="container text-center">
                <h2 class="cta-title">Have a Project in Mind?</h2>
                <p class="cta-text">Let's collaborate to bring your innovative ideas to life. I'm ready to tackle your next engineering challenge.</p>
                <a href="contact.html" class="btn btn-primary">Let's Build Together</a>
            </div>
        </section>

    </main>

    <footer id="main-footer"></footer>

    <script src="assets/js/main.js"></script>
    <!-- CORRECTED FILE PATH BELOW -->
    <script src="assets/js/animations.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('assets/data/projects.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const featuredProjects = data.projects.slice(0, 3);
                    const container = document.getElementById('featured-projects-grid');
                    if (!container) return;

                    container.innerHTML = '';

                    featuredProjects.forEach(project => {
                        const cardLink = document.createElement('a');
                        cardLink.href = `project-detail.html?id=${project.id}`;
                        cardLink.className = 'project-card fade-in';

                        const image = document.createElement('img');
                        image.src = project.thumbnailUrl;
                        image.alt = project.title;

                        const contentDiv = document.createElement('div');
                        contentDiv.className = 'project-card-content';

                        const categorySpan = document.createElement('span');
                        categorySpan.className = 'project-category';
                        categorySpan.textContent = project.category;

                        const titleH3 = document.createElement('h3');
                        titleH3.textContent = project.title;

                        const summaryP = document.createElement('p');
                        summaryP.textContent = project.summary;

                        contentDiv.appendChild(categorySpan);
                        contentDiv.appendChild(titleH3);
                        contentDiv.appendChild(summaryP);
                        
                        cardLink.appendChild(image);
                        cardLink.appendChild(contentDiv);

                        container.appendChild(cardLink);
                    });
                    // Re-initialize animations after adding new elements
                    initializeAnimations();
                })
                .catch(error => {
                    console.error('Failed to load featured projects:', error);
                    const container = document.getElementById('featured-projects-grid');
                    if(container) container.innerHTML = '<p class="error-message">Could not load featured projects.</p>';
                });
        });
    </script>
    <script src="assets/js/theme-switcher.js"></script>
</body>
</html>

